I chose to do the package with case and agreement, plus two lexical rules.

I decided to write a lexical rule for every possible PAC, which would add it as a prefix (within the Completive tense, which covers most of the examples in my test suite).  The rules were constrained to take verbs with SUBJ values matching specific combinations of Number, Person, and Gender values (1st-sg, 2nd-f, 2nd-m, 3rd-f, 3rd-m, 1-pl, 2pl, 3pl).  In the irules file, I created rules inheriting from these types which matched the correct PAC to verbs with the correct inflection values.

Subj-verb agreement is pretty straight forward in Hausa. The subject and the PAC must agree in person/number/gender. The only tricky case is when the subject is a pronoun, since Hausa forces such subjects to appear as null.  To cover this constraint, I added a feature [ PRO pro ] to the type individual.  I made pronoun-lex [ PRO + ], and constrained the first element of verb-lex's ARG-ST list to be [ PRO - ].  This kept pronouns from being the subject by themselves, but allowed them to appear when coordinated with another subject.  The grammar doesn't yet support null subject sentences.  

Case was the other feature I covered in this lab.  Case in Hausa is only marked on pronouns.  Subject pronouns (when in a conjunction, or made the focus) appear as independent case.  Direct object case is used for the object of transitive verbs, while indirect object case is used for ditransitive verbs (where the indirect object always follows immediately after the verb).  Unlike transitive verbs, the direct object of a ditransitive verb takes independent case. Verbs lexically define what case their complement take, so I'm trying to be carefule about which .  For example, in "He gave us two dollars"  , 'us' takes the direct object case, even though it's an indirect object in English.  I added a constraint to the transitive-verb-lex and intransitive-verb-lex types that required their SUBJ to be [ CASE indep ].  I'm not sure this really applies, since pronouns can only appear as subjects when they are part of a coordination.  I made sub-types iobj-transitive-verb-lex and dobj-transitive-verb-lex, whic constrain their complement to be indirect object case and direct object case respectively.  

I figured out very late that Hausa uses a case-marking adposition 'w√' for common nouns acting as indirect objects.  I tried to add it, but I ran out of time.  I don't think it should be too hard, but it did complain when I added a CASE feature in two places (to type noun and type adp).  Would making a supertype, and adding it as a parent of these two solve that problem?

Comments and Questions:

My main problem in this lab was getting the pronouns in positions where I could see that the case constraints were working properly.  Since pronouns only show up in the subject when they are conjoined with another NP (or made the focus), I thought it would be useful to look at how the grammar was parsing them in this position.  It took me awhile to figure out why the coordination rules weren't parsing coordinated subject, and I still don't have it working perfectly.  When I did interactive unification, it looked like one coordinated NP was COORD +, when the conj-last-bottom-rule was looking for COORD -.  When I looked at all the coordination rules, and the order in which they were coordinating items, I realized that if n1-bottom-coord-rule was inheriting from conj-last-bottom-coord-rule, the order of the ARG-ST was wrong, if the coordination was being built up left to right.  The conj-first-bottom-rule looked like a better parent for the n1-bottom-coord-rule, so I used that instead.  Unfortunately, the way I have the grammar rules now, it will allow 'A & B', but also 'A B &'.  I think I must have picked the wrong rule to replace. On the customization script, I think I was a bit confused about what side of the coordinated element the 'and' appears on.  I'm pretty sure it's the right side, but maybe I'm not thinking about it right.  

While I got case to work in pronoun objects, the grammar as it stands now doesn't constrain the case of pronouns inside coordinated phrases.  Is there a way to get at the CASE information inside the daughters of a coordination rule?  Or to say something like the CASE of the coordinated phrase is the unification of the CASE of its daughter phrases?  I had three sentences with a coordinated pronoun as the subject, and all three parsed.  However, two of them had the wrong case (indirect object and direct object), so they shouldn't have parsed.

The other place where I was trying to get pronouns to display case was with ditransitive verbs.  I wanted to create a ditransitve verb type, but I couldn't figure out how to get constraints on the third element of a verb's ARG-ST list.  I could constrain the second element to be indirect object case, but I couldn't find a way to specify that the second complement should be independent case (only for ditransitive verbs - transitive verbs take one complement in direct object case). 


I went back to my test suite and changed a lot of the pronoun subjects into common noun subjects.  The pronoun subjects aren't covered right now, so they were hiding all the other things going on in the sentences.  I also changed some of the verbs to Completive tense, so I wouldn't have to add so many pronouns from tenses I was barely using.

I don't think I did a very thorough job of checking for generation, but out of the sentences that parsed, most seemed to generate ok.  I was wondering how tense fits into

